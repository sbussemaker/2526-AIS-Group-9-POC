version: '3.8'

services:
  customer-service:
    build: ./mcp-servers/customer-service
    container_name: eai-customer-service
    stdin_open: true
    tty: false
    restart: unless-stopped

  order-service:
    build: ./mcp-servers/order-service
    container_name: eai-order-service
    stdin_open: true
    tty: false
    restart: unless-stopped

  orchestrator:
    build:
      context: ./client
      dockerfile: Dockerfile
    container_name: eai-orchestrator
    ports:
      - "5000:5000"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - ./ontology:/app/ontology
    depends_on:
      - customer-service
      - order-service
    restart: unless-stopped

  dashboard:
    image: nginx:alpine
    container_name: eai-dashboard
    ports:
      - "8080:80"
    volumes:
      - ./dashboard:/usr/share/nginx/html
    restart: unless-stopped
